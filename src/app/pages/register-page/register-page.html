<div class="register-container">
  <div class="register-box">
    <h1>Agenda de contactos</h1>

    <form #registerForm="ngForm" (ngSubmit)="register(registerForm)">
      
      <div class="form-group">
        <label for="firstName">Nombre*</label>
        <input name="firstName" type="text" id="firstName" ngModel #firstName="ngModel" required autocomplete="given-name">
        @if (firstName.invalid && !firstName.pristine) {
          <p class="error">Este campo es obligatorio.</p>
        }
      </div>

      <div class="form-group">
        <label for="lastName">Apellido*</label>
        <input name="lastName" type="text" id="lastName" ngModel #lastName="ngModel" required autocomplete="family-name">
        @if (lastName.invalid && !lastName.pristine) {
          <p class="error">Este campo es obligatorio.</p>
        }
      </div>

      <div class="form-group">
        <label for="email">Correo electrónico*</label>
        <input name="email" type="email" id="email" ngModel #email="ngModel" required autocomplete="email">
        @if (email.invalid && !email.pristine) {
          <p class="error">Debe colocar un correo electrónico válido.</p>
        }
      </div>

      <div class="form-group">
        <label for="password">Contraseña*</label>
        <input name="password" type="password" id="password" ngModel #password="ngModel" minlength="4" required autocomplete="new-password">
        @if (password.invalid && !password.pristine) {
          <p class="error">Debe colocar una contraseña de al menos 4 caracteres.</p>
        }
      </div>

      <div class="form-group">
        <label for="password2">Reescribí la contraseña*</label>
        <input name="password2" type="password" id="password2" ngModel #password2="ngModel" minlength="4" required autocomplete="new-password">
        @if (password2.invalid && !password2.pristine) {
          <p class="error">Debe repetir la contraseña.</p>
        }
      </div>

      <button [disabled]="isLoading || registerForm.invalid">Registrarse</button>

      @if (isLoading) {
        <app-spinner></app-spinner>
      }

      @if (errorRegister) {
        <p class="error">Error indeterminado, intente nuevamente.</p>
      }

      <div class="login-text">
        <p>¿Ya tenés cuenta? <a routerLink="/login">Iniciá sesión</a></p>
      </div>
    </form>
  </div>
</div>
